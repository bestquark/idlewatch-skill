# Optional custom host label
IDLEWATCH_HOST=my-host

# Sampling interval in milliseconds
IDLEWATCH_INTERVAL_MS=10000

# Optional macOS LaunchAgent install settings
# IDLEWATCH_APP_PATH=/Applications/IdleWatch.app
# IDLEWATCH_APP_BIN=/Applications/IdleWatch.app/Contents/MacOS/IdleWatch
# IDLEWATCH_LAUNCH_AGENT_LABEL=com.idlewatch.agent
# IDLEWATCH_LAUNCH_AGENT_PLIST_ROOT=$HOME/Library/LaunchAgents
# IDLEWATCH_LAUNCH_AGENT_LOG_DIR=$HOME/Library/Logs/IdleWatch

# Optional durable local telemetry log path (NDJSON)
IDLEWATCH_LOCAL_LOG_PATH=./logs/idlewatch-metrics.ndjson

# OpenClaw usage integration mode: auto|off
IDLEWATCH_OPENCLAW_USAGE=auto

# Optional explicit OpenClaw binary path (recommended for packaged/non-interactive runtime)
# IDLEWATCH_OPENCLAW_BIN=/opt/homebrew/bin/openclaw
# IDLEWATCH_NODE_BIN=/opt/homebrew/bin/node
# Optional portable Node runtime directory to bundle in IdleWatch.app (must contain bin/node)
# IDLEWATCH_NODE_RUNTIME_DIR=/opt/node-v20.18.0-darwin-arm64
# Optional per-probe OpenClaw command timeout (ms)
# IDLEWATCH_OPENCLAW_PROBE_TIMEOUT_MS=2500
# Optional extra probe sweeps after first pass (helps with transient CLI failures)
# IDLEWATCH_OPENCLAW_PROBE_RETRIES=1

# Optional usage freshness tuning windows (ms)
# IDLEWATCH_USAGE_STALE_MS=60000
# IDLEWATCH_USAGE_NEAR_STALE_MS=59500
# IDLEWATCH_USAGE_STALE_GRACE_MS=10000
# Optional forced stale-threshold reprobe controls
# IDLEWATCH_USAGE_REFRESH_REPROBES=1
# IDLEWATCH_USAGE_REFRESH_DELAY_MS=250
# IDLEWATCH_USAGE_REFRESH_ON_NEAR_STALE=1
# IDLEWATCH_USAGE_IDLE_AFTER_MS=21600000
# IDLEWATCH_OPENCLAW_LAST_GOOD_MAX_AGE_MS=120000
# Optional persistent last-good usage snapshot path (supports restart recovery)
# IDLEWATCH_OPENCLAW_LAST_GOOD_CACHE_PATH=./logs/openclaw-last-good.json
# Optional validation gate override for max acceptable OpenClaw usage age (ms)
# Used by schema validators (e.g., validate:packaged-usage-age-slo, trusted release gate)
# IDLEWATCH_MAX_OPENCLAW_USAGE_AGE_MS=300000

# Enforce signed + notarized packaging scripts (1=true, 0=false)
# Requires MACOS_CODESIGN_IDENTITY and MACOS_NOTARY_PROFILE for package:dmg
# IDLEWATCH_REQUIRE_TRUSTED_DISTRIBUTION=1
# Break-glass CI bypass for tag refs (refs/tags/*); default guard blocks unsigned tag packaging
# IDLEWATCH_ALLOW_UNSIGNED_TAG_RELEASE=1

# Firebase settings
FIREBASE_PROJECT_ID=your-firebase-project-id

# Preferred (production): path to service-account JSON file generated for least-privilege IdleWatch writer
# FIREBASE_SERVICE_ACCOUNT_FILE=~/Library/Application Support/IdleWatch/credentials/my-project-service-account.json

# Supported alternative: raw JSON service account in one line (less secure for shell history/process snapshots)
# Example: {"type":"service_account",...}
# FIREBASE_SERVICE_ACCOUNT_JSON=

# Legacy alternative: base64-encoded service account JSON
# FIREBASE_SERVICE_ACCOUNT_B64=

# Optional strict one-shot publish requirement (fails --once if write path is not configured/working)
# IDLEWATCH_REQUIRE_FIREBASE_WRITES=1

# Optional emulator mode (no service-account credentials required)
# FIRESTORE_EMULATOR_HOST=127.0.0.1:8080
